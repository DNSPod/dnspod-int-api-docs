.. DNSPod International API documentation master file, created by
   sphinx-quickstart on Wed May  9 13:13:56 2012.
   You can adapt this file completely to your liking, but it should at least
   contain the root `toctree` directive.

DNSPod International API 
====================================================

Auth
-------------

Get authtoken
~~~~~~~~~~~~~~~~~~~~~~
All the rest apis need authtoken generated by this one.

+ Resource url
    https://www.dnspod.com/api/auth
+ Format
    JSON
+ Method
    GET
+ Request parameters

+-----------+----------+
| Parameter | Required |
+-----------+----------+
| email     | True     |
+-----------+----------+
| password  | True     |
+-----------+----------+

+ Example

::

    curl -X GET 'https://www.dnspod.com/api/auth?email=test@test.it&password=password'

::

    {
	"mario": "test@test.it,1,2012-04-28T05:21:17,0d12d$31cc2cb09b29e2ae2bb4587d34918a0d"
    }


+ API Usage

::

    curl -X Method Url -b 'mario=test@test.it,1,2012-04-28T05:21:17,0d12d$31cc2cb09b29e2ae2bb4587d34918a0d'
    
    
Domains
-------------

Get domain list
~~~~~~~~~~~~~~~~~~~~~~

+ Resource url
    https://www.dnspod.com/api/domains 
+ Format
    JSON
+ Method
    GET
+ Request parameters

+-----------+----------+------------------+
| Parameter | Required | Remarks          |
+-----------+----------+------------------+
| group     | False    | default: __all__ |
+-----------+----------+------------------+
| start     | False    | default: 0       |
+-----------+----------+------------------+
| end       | False    | default: 30      |
+-----------+----------+------------------+

+ Example

::

    curl -X GET 'https://www.dnspod.com/api/domains?group=__all__&start=0&end=2' -b 'mario=test@test.it,1,2012-04-28T05:21:17,0d12d$31cc2cb09b29e2ae2bb4587d34918a0d'

::

    [
	{ "status": "enable", "domain": "test.it", "records": 4, "ascii_domain": "test.it", "id": 1, "unicode_domain": "test.it" }, 
	{ "status": "enable", "domain": "a.com", "records": 6, "ascii_domain": "a.com", "id": 2, "unicode_domain": "a.com" }, 
    ]

Add a domain
~~~~~~~~~~~~~~~~~~~~~~

+ Resource url
    https://www.dnspod.com/api/domains
+ Format
    JSON
+ Method
    POST
+ Request parameters

+-----------+----------+
| Parameter | Required |
+-----------+----------+
| domain    | True     |
+-----------+----------+

+ Example

::

    curl -X POST 'https://www.dnspod.com/api/domains' -d '{ "domain": "test.it" }' -b 'mario=test@test.it,1,2012-04-28T05:21:17,0d12d$31cc2cb09b29e2ae2bb4587d34918a0d'

::

    {
	"domain_id": 1,
	"message": "Domain created successfully",
	"unicode_domain": "test.it"
    }


Enable/Disable a domain
~~~~~~~~~~~~~~~~~~~~~~~

+ Resource url
    https://www.dnspod.com/api/domains/:domain
+ Format
    JSON
+ Method
    GET
+ Request parameters

+-----------+----------+-----------------------+
| Parameter | Required | Remarks               |
+-----------+----------+-----------------------+
| status    | True     | 'enable' or 'disable' |
+-----------+----------+-----------------------+

+ Example

::

    curl -X PUT 'https://www.dnspod.com/api/domains/test.it' -d '{ "status": "disable" }' -b 'mario=test@test.it,1,2012-04-28T05:21:17,0d12d$31cc2cb09b29e2ae2bb4587d34918a0d'

::

    {
	"domain": "test.it", 
	"message": "Domain status modified successfully",
	"status": "disable"
    }
    

Delete a domain
~~~~~~~~~~~~~~~~~~~~~~

+ Resource url
    https://www.dnspod.com/api/domains/:domain
+ Format
    JSON
+ Method
    DELETE
+ Request parameters
    None
+ Example

::

    curl -X DELETE 'https://www.dnspod.com/api/domains/test.it' -b 'mario=test@test.it,1,2012-04-28T05:21:17,0d12d$31cc2cb09b29e2ae2bb4587d34918a0d'

::

    {
	"domain": "test.it", 
	"message": "Domain deleted successfully"
    }

Search domain
~~~~~~~~~~~~~~~~~~~~~~~~

+ Resource url
    https://www.dnspod.com/api/search
+ Format
    JSON
+ Method
    GET
+ Request parameters

+-----------+----------+------------+
| Parameter | Required | Remarks    |
+-----------+----------+------------+
| term      | True     |            |
+-----------+----------+------------+
| length    | False    | default:10 |
+-----------+----------+------------+

+ Example

::

    curl -X GET 'https://www.dnspod.com/api/search?term=test' -b 'mario=test@test.it,1,2012-04-28T05:21:17,0d12d$31cc2cb09b29e2ae2bb4587d34918a0d'

::

    [
	"test.it",
	"test.com"
    ]

Groups
-------------

Get all groups
~~~~~~~~~~~~~~~~~~~~~~~~

+ Resource url
    https://www.dnspod.com/api/groups 
+ Format
    JSON
+ Method
    GET
+ Request parameters
    None
+ Example

::

    curl -X GET 'https://www.dnspod.com/api/groups' -b 'mario=test@test.it,1,2012-04-28T05:21:17,0d12d$31cc2cb09b29e2ae2bb4587d34918a0d'

::
    
    [
	{
	    "count": 16, 
	    "i18n": "All Domains", 
	    "group": "__all__"
	}, 
	{
	    "count": 10, 
	    "i18n": "Recent", 
	    "group": "__recent__"
	}, 
	{
	    "count": 4, 
	    "i18n": "o-u", 
	    "group": "__ou__"
	}, 
    ]

Add a group
~~~~~~~~~~~~~~~~~~~~~~~~

+ Resource url
    https://www.dnspod.com/api/groups
+ Format
    JSON
+ Method
    POST
+ Request parameters

+-----------+----------+
| Parameter | Required |
+-----------+----------+
| group     | True     |
+-----------+----------+

+ Example

::

    curl -X POST 'https://www.dnspod.com/api/groups' -d '{ "group": "test" }' -b 'mario=test@test.it,1,2012-04-28T05:21:17,0d12d$31cc2cb09b29e2ae2bb4587d34918a0d'

::

    {
	"count": 0, 
	"group": "test", 
	"i18n": "test",
	"message": "Group created successfully" 
    }


Put a domain to a group
~~~~~~~~~~~~~~~~~~~~~~~~

+ Resource url
    https://www.dnspod.com/api/groups/:group
+ Format
    JSON
+ Method
    PUT
+ Request parameters

+-----------+----------+
| Parameter | Required |
+-----------+----------+
| domain    | True     |
+-----------+----------+

+ Example

::

    curl -X PUT 'https://www.dnspod.com/api/groups/test' -d '{ "domain": "test.com" }' -b 'mario=test@test.it,1,2012-04-28T05:21:17,0d12d$31cc2cb09b29e2ae2bb4587d34918a0d'
    
::

    {
	"domain": "test.com", 
	"group": "test",
	"message": "Put domain to group successfully"
    }

Delete a domain from a group
~~~~~~~~~~~~~~~~~~~~~~~~~~~~

+ Resource url
    https://www.dnspod.com/api/groups/:group 
+ Format
    JSON
+ Method
    DELETE
+ Request parameters

+-----------+----------+
| Parameter | Required |
+-----------+----------+
| domain    | True     |
+-----------+----------+

+ Example

::

    curl -X DELETE 'https://www.dnspod.com/api/groups/test' -d '{ "domain": "test.com" }' -b 'mario=test@test.it,1,2012-04-28T05:21:17,0d12d$31cc2cb09b29e2ae2bb4587d34918a0d'

::

    {
	"domain": "test.com",
	"message": "Deleted from group successfully"
    }

Records
-------------

Get all records of a domain
~~~~~~~~~~~~~~~~~~~~~~~~~~~

+ Resource url
    https://www.dnspod.com/api/records/:domain 
+ Format
    JSON
+ Method
    GET
+ Request parameters
    None
+ Example

::

    curl -X GET 'https://www.dnspod.com/api/records/test.com' -b 'mario=test@test.it,1,2012-04-28T05:21:17,0d12d$31cc2cb09b29e2ae2bb4587d34918a0d'

:: 

    [
	{
	    "status": "enable", 
	    "area": "default", 
	    "value": "a.dnspod.com.", 
	    "id": 1, 
	    "record_type": "NS", 
	    "sub_domain": "@", 
	    "ttl": 86400, 
	    "updated_on": "2012-02-27T15:46:29", 
	    "domain_id": 1
	}, 
	{
	    "status": "enable", 
	    "area": "default", 
	    "value": "b.dnspod.com.", 
	    "id": 2, 
	    "record_type": "NS", 
	    "sub_domain": "@",
	    "sub_domain": "@", 
	    "ttl": 86400, 
	    "updated_on": "2012-02-27T10:18:53", 
	    "domain_id": 1
	}
    ]


Add a record
~~~~~~~~~~~~~~~~~~~~~~~~

+ Resource url
    https://www.dnspod.com/api/records/:domain
+ Format
    JSON
+ Method
    POST
+ Request parameters

+-------------+----------+-------------+
| Parameter   | Required | Remarks     |
+-------------+----------+-------------+
| area        | True     |             |
+-------------+----------+-------------+
| sub_domain  | True     |             |
+-------------+----------+-------------+
| record_type | True     |             |
+-------------+----------+-------------+
| value       | True     |             |
+-------------+----------+-------------+
| mx          | False    | default:5   |
+-------------+----------+-------------+
| ttl         | False    | default:600 |
+-------------+----------+-------------+

+ Example
    
::

    curl -X POST 'https://www.dnspod.com/api/records/a.com' -d '{ "sub_domain": "test", "area": "0", "record_type": "A", "ttl": 600, "value": "1.22.22.1" }' -b 'mario=test@test.it,1,2012-04-28T05:21:17,
    0d12d$31cc2cb09b29e2ae2bb4587d34918a0d'

::

    {
	"area": "0", 
	"record_id": 85, 
	"record_type": "A", 
	"sub_domain": "test", 
	"ttl": "600", 
	"value": "1.22.22.1"
    }


Enable/Disable a record
~~~~~~~~~~~~~~~~~~~~~~~~

+ Resource url
    https://www.dnspod.com/api/records/:domain/:record_id
+ Format
    JSON
+ Method
    PUT
+ Request parameters

+-----------+----------+-----------------------+
| Parameter | Required | Remarks               |
+-----------+----------+-----------------------+
| status    | True     | 'enable' or 'disable' |
+-----------+----------+-----------------------+

+ Example
   
:: 
    
    curl -X PUT 'https://www.dnspod.com/api/records/a.com/85' -d '{ "status": "diable" }' -b 'mario=test@test.it,1,2012-04-28T05:21:17,0d12d$31cc2cb09b29e2ae2bb4587d34918a0d'

::

    {
	"record_id": "85", 
	"message": "Record modified successfully"
    } 


Modify a record
~~~~~~~~~~~~~~~~~~~~~~~~

+ Resource url
    https://www.dnspod.com/api/records/:domain/:record_id
+ Format
    JSON
+ Method
    POST
+ Request parameters

+-------------+----------+-------------+
| Parameter   | Required | Remarks     |
+-------------+----------+-------------+
| area        | True     |             |
+-------------+----------+-------------+
| sub_domain  | True     |             |
+-------------+----------+-------------+
| record_type | True     |             |
+-------------+----------+-------------+
| value       | True     |             |
+-------------+----------+-------------+
| mx          | False    | default:5   |
+-------------+----------+-------------+
| ttl         | False    | default:600 |
+-------------+----------+-------------+

+ Example
    
::

    curl -X PUT 'https://www.dnspod.com/api/records/a.com/85' -d '{ "sub_domain": "test", "area": "0", "record_type": "A", "ttl": 600, "value": "2.0.1.2" }' -b 'mario=test@test.it,1,2012-04-28T05:21:17,
    0d12d$31cc2cb09b29e2ae2bb4587d34918a0d'

::

    { 
	"record_id": "85", 
	"message": "Record modified successfully"
    }

Error code
-------------



Indices and tables
==================

* :ref:`genindex`
* :ref:`modindex`
* :ref:`search`
